CREATE TABLE RM555486.sensores (
    id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    nome VARCHAR2(100),
    localizacao VARCHAR2(100)
);

CREATE TABLE RM555486.consumo (
    id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    sensor_id NUMBER,
    consumo_kw NUMBER,
    data_hora TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT fk_sensor FOREIGN KEY (sensor_id) REFERENCES sensores(id)
);

CREATE TABLE RM555486.alertas_consumo (
     id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
     sensor_id NUMBER NOT NULL,
     consumo_kw NUMBER NOT NULL,
     data_hora TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
     FOREIGN KEY (sensor_id) REFERENCES RM555486.sensores(id)
);
